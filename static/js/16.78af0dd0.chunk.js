(this.webpackJsonpplay=this.webpackJsonpplay||[]).push([[16],{340:function(e,t,n){},359:function(e,t,n){"use strict";n.r(t);var c=n(114),o=n.n(c),i=n(115),a=n(11),s=n(0),l=(n(340),n(366)),r=n(88),p=n(116),u=n.n(p),d=n(25),g=n(85),h=n(21),j=n(1),b=["https://www.googleapis.com/discovery/v1/apis/youtube/v3/rest","https://people.googleapis.com/$discovery/rest?version=v1"];t.default=function(){var e=Object(s.useContext)(h.c),t=Object(s.useState)(!1),n=Object(a.a)(t,2),c=n[0],p=n[1],m=Object(s.useState)(!1),w=Object(a.a)(m,2),f=w[0],v=w[1],O=Object(s.useState)(!1),y=Object(a.a)(O,2),x=y[0],k=y[1],N=Object(s.useState)(!1),I=Object(a.a)(N,2),S=I[0],P=I[1];function D(){window.gapi.client.init({apiKey:"AIzaSyD4PkG5XFC4AH_IbzE_kilSomvujUBki8k",clientId:"464436051945-5o57e4484mo8li7uuc67k4rgqg4fu6eb.apps.googleusercontent.com",discoveryDocs:b,scope:"https://www.googleapis.com/auth/youtube.readonly https://www.googleapis.com/auth/user.gender.read https://www.googleapis.com/auth/userinfo.email https://www.googleapis.com/auth/userinfo.profile"}).then((function(){p(!0)})).catch((function(){l.a.warning({title:"Make sure cookies are enabled, and you are browsing via https scheme, and not via http scheme."})}))}function _(){return(_=Object(i.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:window.gapi.client.people.people.get({resourceName:"people/me",personFields:"names,photos,genders"}).then((function(e){P(e)})).catch((function(){v(!1),l.a.warn({content:"Please check your network connection."})})),window.gapi.client.youtube.playlistItems.list({part:["snippet,contentDetails"],maxResults:50,playlistId:"LL"}).then((function(e){k(e)})).catch((function(){v(!1),l.a.warn({content:"Please check your network connection."})}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(s.useEffect)((function(){window.gapi.load("client:auth2",D)}),[]),Object(s.useEffect)((function(){if(!1!==x&&!1!==S){var t="".concat("https://play-backend-app.herokuapp.com","/v1/login"),n={youtubeResponse:x,peopleResponse:S};u.a.post(t,n).then((function(t){200===t.status&&!1===t.data.error&&(e(t.data.result.userID),localStorage.setItem("currUser",t.data.result.userID),localStorage.setItem("token",t.data.result.token))})).catch((function(){v(!1),l.a.warn({content:"Please check your network connection."})}))}}),[x,S]),Object(j.jsx)("div",{className:"login-page-container",children:Object(j.jsxs)("div",{className:"login-container",children:[Object(j.jsxs)("div",{className:"login-right-container",children:[Object(j.jsxs)("div",{className:"login-card",children:[Object(j.jsx)("div",{className:"login-card-upper",children:Object(j.jsx)("div",{className:"login-play-text",children:"play"})}),Object(j.jsx)("div",{className:"login-card-lower",children:!0===c?Object(j.jsxs)("div",{className:"google-button",onClick:function(){window.gapi.auth2.getAuthInstance().signIn().then((function(){v(!0),function(){_.apply(this,arguments)}()}))},children:[f?Object(j.jsx)(r.a,{spinning:f,indicator:Object(j.jsx)(g.a,{style:{fontSize:25,color:"rgb(15, 20, 25)"},spin:!0})}):Object(j.jsx)("img",{alt:"",src:"https://upload.wikimedia.org/wikipedia/commons/5/53/Google_%22G%22_Logo.svg"}),"Sign up with Google"]}):Object(j.jsx)("div",{className:"google-button",children:"Loading..."})})]}),Object(j.jsxs)("div",{className:"login-additionals-container",children:[Object(j.jsx)(d.b,{to:"/privacy-policy",children:Object(j.jsx)("div",{className:"additionals-text",children:"Privary Policy"})}),Object(j.jsx)(d.b,{to:"/privacy-policy",children:Object(j.jsx)("div",{className:"additionals-text",children:"Terms & Conditions"})})]})]}),Object(j.jsx)("div",{className:"login-left-container",children:Object(j.jsx)("div",{className:"login-picture-container",children:Object(j.jsx)("img",{alt:"random social pictures",src:"".concat(".","/social_picture.webp"),className:"login-picture"})})})]})})}}}]);
//# sourceMappingURL=16.78af0dd0.chunk.js.map